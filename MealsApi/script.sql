CREATE TABLE [dbo].[Meals] (
    [Id] [uniqueidentifier] NOT NULL,
    [Name] [nvarchar](1000) NOT NULL,
    [Rating] [int] NOT NULL,
    CONSTRAINT [PK_dbo.Meals] PRIMARY KEY ([Id])
)
CREATE TABLE [dbo].[Images] (
    [Id] [uniqueidentifier] NOT NULL,
    [FileName] [nvarchar](2000) NOT NULL,
    [MimeType] [nvarchar](32) NOT NULL,
    [DateStoredUtc] [datetime] NOT NULL,
    [MealId] [uniqueidentifier] NOT NULL,
    CONSTRAINT [PK_dbo.Images] PRIMARY KEY ([Id])
)
CREATE INDEX [IX_MealId] ON [dbo].[Images]([MealId])
ALTER TABLE [dbo].[Images] ADD CONSTRAINT [FK_dbo.Images_dbo.Meals_MealId] FOREIGN KEY ([MealId]) REFERENCES [dbo].[Meals] ([Id]) ON DELETE CASCADE
CREATE TABLE [dbo].[__MigrationHistory] (
    [MigrationId] [nvarchar](150) NOT NULL,
    [ContextKey] [nvarchar](300) NOT NULL,
    [Model] [varbinary](max) NOT NULL,
    [ProductVersion] [nvarchar](32) NOT NULL,
    CONSTRAINT [PK_dbo.__MigrationHistory] PRIMARY KEY ([MigrationId], [ContextKey])
)
INSERT [dbo].[__MigrationHistory]([MigrationId], [ContextKey], [Model], [ProductVersion])
VALUES (N'201703291101051_InitialMigration', N'MealsApi.Data.ContextConfiguration',  0x1F8B0800000000000400E559CD6EE33610BE17E83B083A16D9C8712EAD61EF2275E285D17512C4C9A2B78091C60E518AD2925460A3E893F5D047EA2B74A87F919262BB9B648B224060939C8F33C36F8633F4DF7FFE35FEB00999F30442D2884FDC93E381EB00F7A380F2F5C44DD4EADD8FEE87F7DF7F37BE08C28DF3B95877AAD7A1249713F751A978E479D27F8490C8E390FA2292D14A1DFB51E89120F28683C14FDEC9890708E12296E38C6F12AE6808E917FC3A8DB80FB14A085B440130998FE3CC3245752E490832263E4CDC051026CF627A7C4E14719D3346092AB104B6721DC279A4884215477712964A447CBD8C7180B0DB6D0CB86E85C290AB3EAA96EF6AC560A8ADF02AC102CA4FA48AC23D014F4E73B778A6F841CE754BB7A1E32ED0C16AABAD4E9D97F9CD75CC8D465326F422C3AFC7A9380579AC878F9C62F2A8A4003245FF1D39D384A944C08443A2845E7B9D3C30EAFF02DBDBE837E0139E3056D70C75C3B9C6000E5D8B2806A1B637B0CAF59D07AEE335E53C53B014ABC964D67C4C287EBEC4BDC90383F2DCBD5E71FDBF0040F26008B8CE826C3E015FAB470C8EC100593FA31B088AA11CF68E530C1994522281966D6BFE5EAA48C047E0208882E09A280502D97219F167D5BB4104AD52A6E09CABD3E1D7DBEB923CD1752A66FA34246B90AE73032C9D968F34CEE22DE5C67D313F13517813B19C49F9F0FD324A84AF9D1AD973B744AC413535197B15717BE99C62CC288303385DCAFE5F88AD6D7D86DCC33726F702AF03AD5C8F8A9AEE6FA720520852F1E04EF985967AF096862FE816E4E7BE87DF19CAD91570582017C1DA16C84590EF12C86752463E4D15A869556CDE34E482074E4F4AC97852E88F54C180A53186286E8BD9DA3543F18A9F030305CE999F5DD153227D12D80E44D5835D34297D5269524B4B4D757EB076C18C0002B82E4EB0FE919863285776FAA0DCA73161DD8E304476CC39DACC12DC9C3987187880BA751BBDCBAE0579ED9DCB0D0CC73FE793B157E38F7D3FA08C42091055CC920722418FC346B55C155826E6B785CCF38779F01A7709AA6612C648C5ED0603BD7EE1921C6D0835E6183035939B8A94215B5BD112D1A6F7FBC3AA54BA34D63ABEFE68A801D40D3663AC69554BE6280FB3EA06BCAC1D28DA06AFA36F182F481CE3ED51EB23F21167993511D377CBFD4BEC30C3F07CD9526997DA963B61D247EB8D59DC1A359D512155414ED79906A1B5CCA46E07B38ADDEAECB48FABA05AB15A7FAE49941552CA623BB273B119DA13EAA490DE67064F6CB1B47B238C88965A661AB124E4DDB9A95B3A2B63EAF2D9C8EE0845195DC728C66C94B167586FE532CBBDD665D23CAB9D4EB21639871F679552F63FD31ED99739D8AA46AD6354A3BB2355A5641DA91ADD1DC9A8F9EA70C6D41EDAE5976243B78E8BF285E967655A7349B97B99718DCC3ACEB3DCF3CF3656DACB96B80EBAE789063AE52DB75241985177F9854D19457BAB050BC2E90AA4CABA2F6C584E86C6F3CFB7F314E34919B01DDE635EBD7D4C38FD9200D5A5175D5110FFEA8D843F11E13F12D1F24AB2276AF36983EA63EF4538E099E0BFE76AB36B6F75F7F010779BCD762B72EBEBD2013D728083AABD47DEA7F7B5DD6915F3736C293613F7F7547EE4CC7FBDCF208E9C2B810964E40C9C3F0E24D6E16DEB5B35AAB57EE295FBD3D7E848FB4A9B6FB011B58BFEE7DBCCCE2E33BB3931B01E223CDB8CCAADAD5A7703DADF7FB66D50B49AAFDA9B5ADD686F336A596714B22FD282DA051092A7F6EB163257D27505A17FEBE2E0376853AE99F35554B0D7D0A85862E5484530C19233815991F80AA77D9032BD4C3F1396E0928BF0018239BF4A549C283419C207B6AD3B434741DFFE699FDDD4797C15A74F885FC3045493EA3BE28AFF9C5016947ACF5AB27307840EAFFC7D559FA5D2EFACEB6D89643FB47601E5EE2BB3C22D8431433079C597E4090ED1ED4EC22758137F5BD4B1DD20CF1F44D3EDE3734AD6828432C7A8E4F12B72380837EFFF01A786AEA2E41D0000 , N'6.1.3-40302')

